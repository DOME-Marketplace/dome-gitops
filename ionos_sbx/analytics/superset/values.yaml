auth:
  username: admin
  password: admin
  email: georgios.peppas@eurodyn.com

externalDatabase:
  host: pg-75qkrjg6i4d7tlg2.postgresql.de-txl.ionos.com
  port: 5432
  user: supersetuser
  password: jijikos
  database: supersetdb
  existingSecret: ""  # Required to prevent fallback to internal DB

postgresql:
  enabled: false
  image:
    registry: docker.io
    repository: bitnami/postgresql
    tag: 14.17.0-debian-12-r5
    digest: ""  # Required to avoid nil errors in common.image helper

redis:
  enabled: true
  image:
    registry: docker.io
    repository: bitnami/redis
    tag: 7.4.2-debian-12-r5
    pullPolicy: IfNotPresent
    digest: ""  # Same reason as postgresql.image.digest

superset:
  image:
    registry: docker.io
    repository: bitnami/superset
    tag: 4.1.2-debian-12-r5
    pullPolicy: IfNotPresent
    digest: ""  # Add this to satisfy the chart helper
  init:
    dbMigration: true

ingress:
  enabled: true
  ingressClassName: nginx
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt-sbx-issuer
    nginx.ingress.kubernetes.io/ssl-passthrough: "true"
    nginx.ingress.kubernetes.io/backend-protocol: "HTTP"
  hostname: analytics.dome-marketplace-sbx.org
  tls: true
  extraTls:
    - hosts:
        - analytics.dome-marketplace-sbx.org
      secretName: analytics-tls-secret
  path: /
  pathType: Prefix
  servicePort: 8080

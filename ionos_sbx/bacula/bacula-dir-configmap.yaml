apiVersion: v1
kind: ConfigMap
metadata:
  name: bacula-dir-config
  namespace: bacula
data:
  bacula-dir.conf: |
    Director {
      Name = bacula-dir
      DIRport = 9101
      QueryFile = "/opt/bacula/etc/query.sql"
      Maximum Concurrent Jobs = 10
      Password = "director-password" # Replace with your director password
      Messages = Standard
    }
    Catalog {
      Name = MyCatalog
      dbdriver = "postgresql"
      dbaddress = "bacula-db"         # Updated DB_HOST
      dbport = 5432                  # Default PostgreSQL port
      dbname = "bacula"              # Database name
      dbuser = "bacula"              # Database username
      dbpassword = "bacula-password" # Updated DB_PASSWORD
    }
  bconsole.conf: |
    Director {
      Name = bacula-dir
      DIRport = 9101
      Password = "console-password" # Replace with your console password
    }